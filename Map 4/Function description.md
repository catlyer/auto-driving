1.  Line tracking (Functions `getPosBlack` and `linefollowBlack`)

Both functions are used for line tracking.  `getPosBlack()` calculates the position of the line relative to the robot's center by evaluating the states of six IR sensors (IR_L3, IR_L2, IR_L1, IR_R1, IR_R2, IR_R3) positioned on the left and right sides of the robot. Each sensor contributes a weighted positional value to the variable `pos` based on its location, with left sensors contributing negative values and right sensors contributing positive values. The weights (-5, -3, -1, 1, 3, 5) correspond to the sensor's distance from the center, providing a proportional representation of the line's position. The `count` variable tracks the number of active sensors detecting the line, and the final position is normalized by dividing the cumulative position by the count of active sensors.

The `linefollowBlack()` function utilizes the positional data from `getPosBlack()` to adjust the robot's wheel speeds for line-following. The `speed` parameter sets the base speed for both wheels, while the `gain` parameter modulates the correction intensity based on the positional error. If the line is detected on the right side (positive `pos`), the left wheel maintains the base speed, and the right wheel's speed is reduced proportionally to the positional error, causing the robot to turn left towards the line. Conversely, if the line is on the left side (negative `pos`), the right wheel maintains the base speed, and the left wheel's speed is reduced, causing the robot to turn right. This differential steering mechanism ensures the robot continuously adjusts its trajectory to follow the black line accurately.